(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{47:function(s,t,a){"use strict";a.r(t);var r={components:{}},e=a(8),p=Object(e.a)(r,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h2",[s._v("基本饼图")]),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const { Workflow, Link, Step } = window.spriteWorkflow;\n    let $wrap = document.querySelector(&#39;.block-demo .demo&#39;);\n    const width = $wrap.offsetWidth;\n    const height = $wrap.offsetHeight;\n    const getGuid = () => Math.random().toString(36).slice(2);\n\n    // 内置的Step 类型，有 [&#39;rect&#39;,&#39;circle&#39;,&#39;triangle&#39;,&#39;star&#39;,&#39;diamond&#39;],默认rect */\n    let steps = [\n      { id: getGuid(), data: { a: 1 }, drawType: &#39;rect&#39;, pos: [ 450, 110 ], text: &#39;我是矩形&#39; },\n      { id: getGuid(), data: { a: 1 }, drawType: &#39;circle&#39;, pos: [ 100, 100 ], text: &#39;圆&#39; },\n      { id: getGuid(), data: { a: 1 }, drawType: &#39;triangle&#39;, pos: [ 200, 200 ], text: &#39;三角&#39; },\n      { id: getGuid(), data: { a: 1 }, drawType: &#39;star&#39;, pos: [ 340, 240 ], text: &#39;五角&#39; },\n      { id: getGuid(), data: { a: 1 }, drawType: &#39;diamond&#39;, pos: [ 340, 400 ], text: &#39;菱形&#39; },\n    ];\n    // 内置的link 类型，有 [&#39;line&#39;,&#39;polyline&#39;],line 直线 polyline 折线默认line */\n    let links = [\n      // { startStepId: steps[ 0 ].id, drawType: &#39;polyline&#39;, endStepId: steps[ 1 ].id },\n      // { startStepId: steps[ 1 ].id, drawType: &#39;polyline&#39;, endStepId: steps[ 2 ].id },\n      // { startStepId: steps[ 2 ].id, drawType: &#39;polyline&#39;, endStepId: steps[ 3 ].id },\n      // { startStepId: steps[ 3 ].id, drawType: &#39;polyline&#39;, endStepId: steps[ 4 ].id },\n      // { startStepId: steps[ 4 ].id, drawType: &#39;polyline&#39;, endStepId: steps[ 0 ].id },\n      { startStepId: steps[ 0 ].id, drawType: &#39;line&#39;, endStepId: steps[ 1 ].id },\n      { startStepId: steps[ 1 ].id, drawType: &#39;line&#39;, endStepId: steps[ 2 ].id },\n      { startStepId: steps[ 2 ].id, drawType: &#39;line&#39;, endStepId: steps[ 3 ].id },\n      { startStepId: steps[ 3 ].id, drawType: &#39;line&#39;, endStepId: steps[ 4 ].id },\n      { startStepId: steps[ 4 ].id, drawType: &#39;line&#39;, endStepId: steps[ 0 ].id },\n    ]\n\n    let workflow = new Workflow({ selector: &#39;#workflow&#39;, size: [ width, height ], zoom: [ 0.5, 2 ] });\n    steps.forEach(object => {\n      let step = new Step(object, {\n        // draw: function () {\n        // const { draw, text } = this.attr();\n        // let $rect = new Label(text);\n        // $rect.attr({ bgcolor: &#39;rgba(0,255,0,0.8)&#39;, padding: [ 6, 10 ], borderRadius: [ 5, 5 ] });\n        // this.append($rect);\n        // }\n      });\n      workflow.append(step);\n    })\n    links.forEach(object => {\n      let link = new Link(object);\n      workflow.append(link);\n    });\n\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { Workflow, Link, Step } = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".spriteWorkflow;\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" $wrap = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'.block-demo .demo'")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" width = $wrap.offsetWidth;\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" height = $wrap.offsetHeight;\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getGuid = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".random().toString("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("36")]),s._v(").slice("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(");\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 内置的Step 类型，有 ['rect','circle','triangle','star','diamond'],默认rect */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" steps = [\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": getGuid(), "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'rect'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("450")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("110")]),s._v(" ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我是矩形'")]),s._v(" },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": getGuid(), "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'circle'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(" ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'圆'")]),s._v(" },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": getGuid(), "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'triangle'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(" ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'三角'")]),s._v(" },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": getGuid(), "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'star'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("340")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("240")]),s._v(" ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'五角'")]),s._v(" },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": getGuid(), "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'diamond'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pos")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("340")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(" ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'菱形'")]),s._v(" },\n    ];\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 内置的link 类型，有 ['line','polyline'],line 直线 polyline 折线默认line */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" links = [\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { startStepId: steps[ 0 ].id, drawType: 'polyline', endStepId: steps[ 1 ].id },")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { startStepId: steps[ 1 ].id, drawType: 'polyline', endStepId: steps[ 2 ].id },")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { startStepId: steps[ 2 ].id, drawType: 'polyline', endStepId: steps[ 3 ].id },")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { startStepId: steps[ 3 ].id, drawType: 'polyline', endStepId: steps[ 4 ].id },")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { startStepId: steps[ 4 ].id, drawType: 'polyline', endStepId: steps[ 0 ].id },")]),s._v("\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" ].id, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'line'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("endStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" ].id },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" ].id, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'line'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("endStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" ].id },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" ].id, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'line'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("endStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(" ].id },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(" ].id, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'line'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("endStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(" ].id },\n      { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(" ].id, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("drawType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'line'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("endStepId")]),s._v(": steps[ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" ].id },\n    ]\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" workflow = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Workflow({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("selector")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#workflow'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": [ width, height ], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("zoom")]),s._v(": [ "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" ] });\n    steps.forEach("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("object")]),s._v(" =>")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" step = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Step(object, {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// draw: function () {")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// const { draw, text } = this.attr();")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// let $rect = new Label(text);")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $rect.attr({ bgcolor: 'rgba(0,255,0,0.8)', padding: [ 6, 10 ], borderRadius: [ 5, 5 ] });")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.append($rect);")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// }")]),s._v("\n      });\n      workflow.append(step);\n    })\n    links.forEach("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("object")]),s._v(" =>")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" link = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Link(object);\n      workflow.append(link);\n    });\n\n")])])])],1)},[],!1,null,null,null);t.default=p.exports}}]);